{% extends 'base.html.twig' %}




{% block body %}

    <h1 class="mb-5 text-center">Find <span>your</span> perfect job.</h1>

    <div class="col-8 offset-2">
        <div class="card">
            <div class="card-body">
                <div class="form-group">
                    {{ form_start(form) }}
                    <label for="what" class="form-label">Quoi ?</label>
                    {{ form_widget(form.what, {'attr' : {'class' : 'form-control mb-2'} } ) }}
                    {{ form_errors(form.what) }}

                    <label for="where" class="form-label">Où ?</label>
                    {{ form_widget(form.where, {'attr' : {'class' : 'form-control'} } ) }}
                    {{ form_errors(form.where) }}

                    {{ form_widget(form.submit) }}
                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>

    <div class="mt-5">

        <span class="text-primary">{{ totalJobs }} job(s) trouvé(s) </span>

        <div class="job-wrapper mt-3">
            {% for job in jobs %}
                <div class="mb-3 job-item">
                    <div class="">
                        <div class="">
                            <h2>{{ job.title }}</h2>
                            {% if job.city is not empty %}
                                <h3>{{ job.city }} {% if job.department is not empty %}({{ job.department }}){% endif %}</h3>
                            {% endif %}

                        </div>
                        <p class="">{{ job.description }}</p>
                    </div>
                </div>
            {% endfor %}
        </div>

        {# display navigation #}
        <div class="navigation">
            {{ knp_pagination_render(pagination) }}
        </div>
    </div>

{% endblock %}